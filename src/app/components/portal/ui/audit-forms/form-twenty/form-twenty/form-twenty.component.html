<div class="container-fluid">
    <div class="row">
        <div class="col-sm-12">
            <div class="heading_page shadow-sm header_usrprofl p-2 pr-3">
                <h1 class="">
                    <span class="usr_headleft">
                        <i class="mdi mdi-account-multiple mx-2"></i>
                        Window Safety Risk Assessment
                    </span>
                    <span class="usr_headname"></span><span>
                        <button class="btn btn-sm btn-dark rounded-pill mb-3 mr-4 pull-right my-1 btn-go-back"
                            (click)="goBack()">Go
                            Back</button>
                    </span>
                </h1>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="horizontal-tabs my-3 bg-white shadow-sm mr-lft-10">
                <ng-container *ngIf="isBusy">
                    <div class="loader">
                        <mat-spinner diameter="40" strokeWidth="5" style="stroke: #00a1ff;display:inline"></mat-spinner>
                    </div>
                </ng-container>

                <ng-container *ngIf="!isBusy && auditForm">
                    <form [formGroup]="auditForm">
                        <div class="sv-tab-panel info_tab_container">
                            <div class="care-infotable w-96 mb-3 d-flex">
                                <table class="table w-50 mb-0">
                                    <tbody>
                                        <tr>
                                            <th class="border-top-0">Location</th>
                                            <td class="border-top-0">
                                                <div class="form-group mb-0 input-txtbox">
                                                    <select class="form-control" (change)="getUsers($event.target.value)" formControlName="locationId">
                                                        <ng-container *ngFor="let location of locationList">
                                                            <option [value]="location.id">{{location.name}}
                                                            </option>
                                                        </ng-container>
                                                    </select>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr
                                            *ngIf="currentUserRole == userType.Admin ||currentUserRole == userType.SuperUser ">
                                            <th class="border-top-0">Audited by</th>
                                            <td class="border-top-0">
                                                <div class="form-group mb-0 input-txtbox">
                                                    <select class="form-control" (change)="completeForm($event)"
                                                        name="auditedBy" formControlName="auditedBy">
                                                        <ng-container *ngFor="let user of userList">
                                                            <option [ngValue]="user.id" *ngIf="user.userType != userType.Admin">
                                                                {{ (user.firstName ==null || user.lastName == null)?
                                                                user.email: user.firstName+" "+user.lastName}}
                                                            </option>
                                                        </ng-container>
                                                    </select>
                                                </div>
                                            </td>
                                        </tr>
                                        
                                    </tbody>
                                </table>
                                <table class="table w-50 mb-0">
                                    <tbody>
                                        <tr>
                                            <th class="border-top-0">Date of Audit</th>
                                            <td class="border-top-0">
                                                <div class="form-group mb-0 input-txtbox">
                                                    <label>{{(auditForm.get('auditDate').value)?(auditForm.get('auditDate').value|date:'dd-MM-yyyy'):'-'}}</label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th class="border-top-0">SignOff By</th>
                                            <td class="border-top-0">
                                                <div class="form-group mb-0 input-txtbox">
                                                    <select class="form-control" formControlName="signoffBy"
                                                        (change)="changeSignoff()">
                                                        <ng-container *ngFor="let user of userList">
                                                            <option [ngValue]="user.id"
                                                                *ngIf="user.userType == userType.Admin || user.userType == userType.SuperUser ">
                                                                {{ (user.firstName ==null || user.lastName == null)?
                                                                user.email: user.firstName+" "+user.lastName}}
                                                            </option>
                                                        </ng-container>
                                                    </select>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <ng-container *ngIf="isFilling">
                                <div class="care-infotable innerwhite-table py-3 w-96 mb-3 px-3 d-flex">
                                   <div class="overflow-auto limitheight-form mt-3 zoning_table">
                                    <table class="table mb-0 bg-white shadow-sm table-bordered table-wd-18">
                                        <thead>
                                            <tr>
                                                <th class="bg-light w-5">S.no</th>
                                                <th class="bg-light w-30">Risk</th>
                                                <th class="bg-light w-15">Response</th>
                                                <th class="bg-light w-15">Further action</th>
                                                <th class="bg-light w-15">Date due</th>
                                                <th class="bg-light w-15">Actioned by</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td class="border-top-0">
                                                    1
                                                </td>
                                                <td class="border-top-0">
                                                    Are all window installations maintained in a manner which will avoid
                                                    the
                                                    risk of persons falling through open windows?
                                                </td>
                                                <td class="border-top-0">
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="windowInstallationsMaintainResponse" formControlName="windowInstallationsMaintainResponse" [value]="riskAction.Yes" id="yes1"
                                                            class="form-check-input mt-1">
                                                        <label for="yes1" class="form-check-label">Yes</label>
                                                    </div>
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="windowInstallationsMaintainResponse" formControlName="windowInstallationsMaintainResponse" [value]="riskAction.No" id="no1"
                                                            class="form-check-input mt-1">
                                                        <label for="no1" class="form-check-label">No</label>
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="text" class="form-control" formControlName="windowInstallationsMaintainAction" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="date" class="form-control" formControlName="windowInstallationsMaintainDueDate" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select class="form-control" formControlName="windowInstallationsMaintainActionBy">
                                                            <ng-container *ngFor="let user1 of allUserList">
                                                            <option [ngValue]="user1.id">
                                                                {{ (user1.firstName ==null || user1.lastName == null)?
                                                                user1.email: user1.firstName+" "+user1.lastName}}
                                                            </option>
                                                        </ng-container>
                                                        </select>
                                                    </div>
                                                </td>

                                            </tr>
                                            <tr>
                                                <td class="border-top-0">
                                                    2
                                                </td>
                                                <td class="border-top-0">
                                                    If a window is large enough for someone to fall through, have you
                                                    ensured that they are restricted to opening 1OOmm or less, thereby
                                                    complying with Regulation 15 of ACOP (The Approved Code of Practice
                                                    issued by the HSE)?
                                                </td>
                                                <td class="border-top-0">
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="restrictedToOpeningResponse" formControlName="restrictedToOpeningResponse" [value]="riskAction.Yes" id="yes23"
                                                            class="form-check-input mt-1">
                                                        <label for="yes23" class="form-check-label">Yes</label>
                                                    </div>
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="restrictedToOpeningResponse" formControlName="restrictedToOpeningResponse" [value]="riskAction.No" id="no23"
                                                            class="form-check-input mt-1">
                                                        <label for="no23" class="form-check-label">No</label>
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="text" class="form-control" formControlName="restrictedToOpeningAction" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="date" class="form-control" formControlName="restrictedToOpeningDueDate" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select class="form-control" formControlName="restrictedToOpeningActionBy">
                                                            <ng-container *ngFor="let user of allUserList">
                                                            <option [ngValue]="user.id">
                                                                {{ (user.firstName ==null || user.lastName == null)?
                                                                user.email: user.firstName+" "+user.lastName}}
                                                            </option>
                                                        </ng-container>
                                                        </select>
                                                    </div>
                                                </td>

                                            </tr>
                                            <tr>
                                                <td class="border-top-0">
                                                    3
                                                </td>
                                                <td class="border-top-0">
                                                    As per Regulation 15 above, have you also ensured that the bottom
                                                    edge
                                                    of openable windows are at least 800mm above floor level, unless
                                                    there
                                                    is a barrier to prevent this?
                                                </td>
                                                <td class="border-top-0">
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="bottomEdgeOfOpenableWindowResponse" formControlName="bottomEdgeOfOpenableWindowResponse" [value]="riskAction.Yes" id="yes3"
                                                            class="form-check-input mt-1">
                                                        <label for="yes3" class="form-check-label">Yes</label>
                                                    </div>
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="bottomEdgeOfOpenableWindowResponse" formControlName="bottomEdgeOfOpenableWindowResponse" [value]="riskAction.No" id="no3"
                                                            class="form-check-input mt-1">
                                                        <label for="no3" class="form-check-label">No</label>
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="text" class="form-control" formControlName="bottomEdgeOfOpenableWindowAction" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="date" class="form-control" formControlName="bottomEdgeOfOpenableWindowDueDate" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select class="form-control" formControlName="bottomEdgeOfOpenableWindowActionBy">
                                                            <ng-container *ngFor="let user of allUserList">
                                                            <option [ngValue]="user.id">
                                                                {{ (user.firstName ==null || user.lastName == null)?
                                                                user.email: user.firstName+" "+user.lastName}}
                                                            </option>
                                                        </ng-container>
                                                        </select>
                                                    </div>
                                                </td>

                                            </tr>
                                            <tr>
                                                <td class="border-top-0">
                                                    4
                                                </td>
                                                <td class="border-top-0">
                                                    Are all window installations maintained in a manner which will avoid
                                                    the
                                                    risk of unauthorised access through open windows?
                                                </td>
                                                <td class="border-top-0">
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="avoidUnauthorisedAccessResponse" formControlName="avoidUnauthorisedAccessResponse" [value]="riskAction.Yes" id="yes4"
                                                            class="form-check-input mt-1">
                                                        <label for="yes4" class="form-check-label">Yes</label>
                                                    </div>
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="avoidUnauthorisedAccessResponse" formControlName="avoidUnauthorisedAccessResponse" [value]="riskAction.No" id="no4"
                                                            class="form-check-input mt-1">
                                                        <label for="no4" class="form-check-label">No</label>
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="text" class="form-control" formControlName="avoidUnauthorisedAccessAction" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="date" class="form-control" formControlName="avoidUnauthorisedAccessDueDate" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select class="form-control" formControlName="avoidUnauthorisedAccessActionBy">
                                                            <ng-container *ngFor="let user of allUserList">
                                                            <option [ngValue]="user.id">
                                                                {{ (user.firstName ==null || user.lastName == null)?
                                                                user.email: user.firstName+" "+user.lastName}}
                                                            </option>
                                                        </ng-container>
                                                        </select>
                                                    </div>
                                                </td>

                                            </tr>
                                            <tr>
                                                <td class="border-top-0">
                                                    5
                                                </td>
                                                <td class="border-top-0">
                                                    Have you ensured that frames are of a high quality with sufficient
                                                    rigidity to prevent excessive amounts of movement from occurring?
                                                    This
                                                    will prevent sliding sashes becoming detached and falling to the
                                                    ground.
                                                </td>
                                                <td class="border-top-0">
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="preventExcAmtsOfMovementResponse" formControlName="preventExcAmtsOfMovementResponse" [value]="riskAction.Yes" id="yes5"
                                                            class="form-check-input mt-1">
                                                        <label for="yes5" class="form-check-label">Yes</label>
                                                    </div>
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="preventExcAmtsOfMovementResponse" formControlName="preventExcAmtsOfMovementResponse" [value]="riskAction.No" id="no5"
                                                            class="form-check-input mt-1">
                                                        <label for="no5" class="form-check-label">No</label>
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="text" class="form-control" formControlName="preventExcAmtsOfMovementAction" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="date" class="form-control" formControlName="preventExcAmtsOfMovementDueDate" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select class="form-control" formControlName="preventExcAmtsOfMovementActionBy">
                                                            <ng-container *ngFor="let user of allUserList">
                                                            <option [ngValue]="user.id">
                                                                {{ (user.firstName ==null || user.lastName == null)?
                                                                user.email: user.firstName+" "+user.lastName}}
                                                            </option>
                                                        </ng-container>
                                                        </select>
                                                    </div>
                                                </td>

                                            </tr>
                                            <tr>
                                                <td class="border-top-0">
                                                    6
                                                </td>
                                                <td class="border-top-0">
                                                    Have you ensured that suitable glazing mastic is used, particularly
                                                    when
                                                    used with setting blocks, in order to prevent glass panels becoming
                                                    damaged and insecure?
                                                </td>
                                                <td class="border-top-0">
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="suitableGlazingMasticResponse" formControlName="suitableGlazingMasticResponse" [value]="riskAction.Yes" id="yes6"
                                                            class="form-check-input mt-1">
                                                        <label for="yes6" class="form-check-label">Yes</label>
                                                    </div>
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="suitableGlazingMasticResponse" formControlName="suitableGlazingMasticResponse" [value]="riskAction.No" id="no6"
                                                            class="form-check-input mt-1">
                                                        <label for="no6" class="form-check-label">No</label>
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="text" class="form-control" formControlName="suitableGlazingMasticAction" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="date" class="form-control" formControlName="suitableGlazingMasticDueDate" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select class="form-control" formControlName="suitableGlazingMasticActionBy">
                                                            <ng-container *ngFor="let user of allUserList">
                                                            <option [ngValue]="user.id">
                                                                {{ (user.firstName ==null || user.lastName == null)?
                                                                user.email: user.firstName+" "+user.lastName}}
                                                            </option>
                                                        </ng-container>
                                                        </select>
                                                    </div>
                                                </td>

                                            </tr>
                                            <tr>
                                                <td class="border-top-0">
                                                    7
                                                </td>
                                                <td class="border-top-0">
                                                    Have all windows above the ground floor been fitted with opening
                                                    restrictors? Window restrictor devices must be secure in order to
                                                    prevent opening tolerances from being overridden.
                                                </td>
                                                <td class="border-top-0">
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="fittedWidOpeningRestrictorResponse" formControlName="fittedWidOpeningRestrictorResponse" [value]="riskAction.Yes" id="yes7"
                                                            class="form-check-input mt-1">
                                                        <label for="yes7" class="form-check-label">Yes</label>
                                                    </div>
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="fittedWidOpeningRestrictorResponse" formControlName="fittedWidOpeningRestrictorResponse" [value]="riskAction.No" id="no7"
                                                            class="form-check-input mt-1">
                                                        <label for="no7" class="form-check-label">No</label>
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="text" class="form-control" formControlName="fittedWidOpeningRestrictorAction" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="date" class="form-control" formControlName="fittedWidOpeningRestrictorDueDate" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select class="form-control" formControlName="fittedWidOpeningRestrictorActionBy">
                                                            <ng-container *ngFor="let user of allUserList">
                                                            <option [ngValue]="user.id">
                                                                {{ (user.firstName ==null || user.lastName == null)?
                                                                user.email: user.firstName+" "+user.lastName}}
                                                            </option>
                                                        </ng-container>
                                                        </select>
                                                    </div>
                                                </td>

                                            </tr>
                                            <tr>
                                                <td class="border-top-0">
                                                    8
                                                </td>
                                                <td class="border-top-0">
                                                    Are window restrictors sufficiently robust to withstand damage,
                                                    either
                                                    deliberate or through general wear?
                                                </td>
                                                <td class="border-top-0">
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="robustToWithstandDamageResponse" formControlName="robustToWithstandDamageResponse" [value]="riskAction.Yes" id="yes8"
                                                            class="form-check-input mt-1">
                                                        <label for="yes8" class="form-check-label">Yes</label>
                                                    </div>
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="robustToWithstandDamageResponse" formControlName="robustToWithstandDamageResponse" [value]="riskAction.No" id="no8"
                                                            class="form-check-input mt-1">
                                                        <label for="no8" class="form-check-label">No</label>
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="text" class="form-control" formControlName="robustToWithstandDamageAction" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="date" class="form-control" formControlName="robustToWithstandDamageDueDate" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select class="form-control" formControlName="robustToWithstandDamageActionBy">
                                                            <ng-container *ngFor="let user of allUserList">
                                                            <option [ngValue]="user.id">
                                                                {{ (user.firstName ==null || user.lastName == null)?
                                                                user.email: user.firstName+" "+user.lastName}}
                                                            </option>
                                                        </ng-container>
                                                        </select>
                                                    </div>
                                                </td>

                                            </tr>
                                            <tr>
                                                <td class="border-top-0">
                                                    9
                                                </td>
                                                <td class="border-top-0">
                                                    Can you confirm that the window restrictor is robustly secured using
                                                    tamper-proof fittings, so that they cannot be removed or disengaged
                                                    using readily accessible implements (such as cutlery) and can only
                                                    be
                                                    disengaged using a special tool or key?
                                                </td>
                                                <td class="border-top-0">
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="tamperProofFittingsResponse" formControlName="tamperProofFittingsResponse" [value]="riskAction.Yes" id="yes9"
                                                            class="form-check-input mt-1">
                                                        <label for="yes9" class="form-check-label">Yes</label>
                                                    </div>
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="tamperProofFittingsResponse" formControlName="tamperProofFittingsResponse" [value]="riskAction.No" id="no9"
                                                            class="form-check-input mt-1">
                                                        <label for="no9" class="form-check-label">No</label>
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="text" class="form-control" formControlName="tamperProofFittingsAction" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="date" class="form-control" formControlName="tamperProofFittingsDueDate" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select class="form-control" formControlName="tamperProofFittingsActionBy">
                                                            <ng-container *ngFor="let user of allUserList">
                                                            <option [ngValue]="user.id">
                                                                {{ (user.firstName ==null || user.lastName == null)?
                                                                user.email: user.firstName+" "+user.lastName}}
                                                            </option>
                                                        </ng-container>
                                                        </select>
                                                    </div>
                                                </td>

                                            </tr>
                                            <tr>
                                                <td class="border-top-0">
                                                    10
                                                </td>
                                                <td class="border-top-0">
                                                    Are the window frames to which the restrictors are fitted
                                                    sufficiently
                                                    robust?
                                                </td>
                                                <td class="border-top-0">
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="fittedSufficientlyRobustResponse" formControlName="fittedSufficientlyRobustResponse" [value]="riskAction.Yes" id="yes10"
                                                            class="form-check-input mt-1">
                                                        <label for="yes10" class="form-check-label">Yes</label>
                                                    </div>
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="fittedSufficientlyRobustResponse" formControlName="fittedSufficientlyRobustResponse" [value]="riskAction.No" id="no10"
                                                            class="form-check-input mt-1">
                                                        <label for="no10" class="form-check-label">No</label>
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="text" class="form-control" formControlName="fittedSufficientlyRobustAction" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="date" class="form-control" formControlName="fittedSufficientlyRobustDueDate" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select class="form-control" formControlName="fittedSufficientlyRobustActionBy">
                                                            <ng-container *ngFor="let user of allUserList">
                                                            <option [ngValue]="user.id">
                                                                {{ (user.firstName ==null || user.lastName == null)?
                                                                user.email: user.firstName+" "+user.lastName}}
                                                            </option>
                                                        </ng-container>
                                                        </select>
                                                    </div>
                                                </td>

                                            </tr>
                                            <tr>
                                                <td class="border-top-0">
                                                    11
                                                </td>
                                                <td class="border-top-0">
                                                    Have you restricted access to upper floors where necessary?
                                                </td>
                                                <td class="border-top-0">
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="restrictedAccessToUpperFloorsResponse" formControlName="restrictedAccessToUpperFloorsResponse" [value]="riskAction.Yes" id="yes11"
                                                            class="form-check-input mt-1">
                                                        <label for="yes11" class="form-check-label">Yes</label>
                                                    </div>
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="restrictedAccessToUpperFloorsResponse" formControlName="restrictedAccessToUpperFloorsResponse" [value]="riskAction.No" id="no11"
                                                            class="form-check-input mt-1">
                                                        <label for="no11" class="form-check-label">No</label>
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="text" class="form-control" formControlName="restrictedAccessToUpperFloorsAction" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="date" class="form-control" formControlName="restrictedAccessToUpperFloorsDueDate" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select class="form-control" formControlName="restrictedAccessToUpperFloorsActionBy">
                                                            <ng-container *ngFor="let user of allUserList">
                                                            <option [ngValue]="user.id">
                                                                {{ (user.firstName ==null || user.lastName == null)?
                                                                user.email: user.firstName+" "+user.lastName}}
                                                            </option>
                                                        </ng-container>
                                                        </select>
                                                    </div>
                                                </td>

                                            </tr>
                                            <tr>
                                                <td class="border-top-0">
                                                    12
                                                </td>
                                                <td class="border-top-0">
                                                    Have you assessed the risk of furniture or other items, being used
                                                    as an
                                                    enabler to climb over barriers, or otherwise access windows and/or
                                                    balconies which otherwise might be inaccessible? Other items could
                                                    include, but not be limited to: natural footholds, plant pots, walls
                                                    etc.
                                                </td>
                                                <td class="border-top-0">
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="climbOverBarrierResponse" formControlName="climbOverBarrierResponse" [value]="riskAction.Yes" id="yes13"
                                                            class="form-check-input mt-1">
                                                        <label for="yes13" class="form-check-label">Yes</label>
                                                    </div>
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="climbOverBarrierResponse" formControlName="climbOverBarrierResponse" [value]="riskAction.No" id="no13"
                                                            class="form-check-input mt-1">
                                                        <label for="no13" class="form-check-label">No</label>
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="text" class="form-control" formControlName="climbOverBarrierAction" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="date" class="form-control" formControlName="climbOverBarrierDueDate" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select class="form-control" formControlName="climbOverBarrierActionBy">
                                                            <ng-container *ngFor="let user of allUserList">
                                                            <option [ngValue]="user.id">
                                                                {{ (user.firstName ==null || user.lastName == null)?
                                                                user.email: user.firstName+" "+user.lastName}}
                                                            </option>
                                                        </ng-container>
                                                        </select>
                                                    </div>
                                                </td>

                                            </tr>
                                            <tr>
                                                <td class="border-top-0">
                                                    13
                                                </td>
                                                <td class="border-top-0">
                                                    Is maintenance ensuring that all safety fixtures and fittings are
                                                    functioning effectively, and that their performance has not
                                                    deteriorated
                                                    as a result of use, wear or tampering?
                                                </td>
                                                <td class="border-top-0">
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="fittingsFunctioningEffectivelyResponse" formControlName="fittingsFunctioningEffectivelyResponse" [value]="riskAction.Yes" id="yes14"
                                                            class="form-check-input mt-1">
                                                        <label for="yes14" class="form-check-label">Yes</label>
                                                    </div>
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="fittingsFunctioningEffectivelyResponse" formControlName="fittingsFunctioningEffectivelyResponse" [value]="riskAction.No" id="no14"
                                                            class="form-check-input mt-1">
                                                        <label for="no14" class="form-check-label">No</label>
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="text" class="form-control" formControlName="fittingsFunctioningEffectivelyAction" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="date" class="form-control" formControlName="fittingsFunctioningEffectivelyDueDate" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select class="form-control" formControlName="fittingsFunctioningEffectivelyActionBy">
                                                            <ng-container *ngFor="let user of allUserList">
                                                            <option [ngValue]="user.id">
                                                                {{ (user.firstName ==null || user.lastName == null)?
                                                                user.email: user.firstName+" "+user.lastName}}
                                                            </option>
                                                        </ng-container>
                                                        </select>
                                                    </div>
                                                </td>

                                            </tr>
                                            <tr>
                                                <td class="border-top-0">
                                                    14
                                                </td>
                                                <td class="border-top-0">
                                                    Are you providing adequate training and supervision to staff to
                                                    ensure
                                                    that they understand the risks, the precautions required, and the
                                                    need
                                                    to report any defects or concerns to a responsible person?
                                                </td>
                                                <td class="border-top-0">
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="providingAdequateTrainingResponse" formControlName="providingAdequateTrainingResponse" [value]="riskAction.Yes" id="yes"
                                                            class="form-check-input mt-1">
                                                        <label for="yes" class="form-check-label">Yes</label>
                                                    </div>
                                                    <div
                                                        class="form-group form-check mb-0 mr-2 d-inline-block float-left">
                                                        <input type="radio" name="providingAdequateTrainingResponse" formControlName="providingAdequateTrainingResponse" [value]="riskAction.No" id="no"
                                                            class="form-check-input mt-1">
                                                        <label for="no" class="form-check-label">No</label>
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="text" class="form-control" formControlName="providingAdequateTrainingAction" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <input type="date" class="form-control" formControlName="providingAdequateTrainingDueDate" />
                                                    </div>
                                                </td>
                                                <td class="border-top-0">
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select class="form-control" formControlName="providingAdequateTrainingActionBy">
                                                            <ng-container *ngFor="let user of allUserList">
                                                            <option [ngValue]="user.id">
                                                                {{ (user.firstName ==null || user.lastName == null)?
                                                                user.email: user.firstName+" "+user.lastName}}
                                                            </option>
                                                        </ng-container>
                                                        </select>
                                                    </div>
                                                </td>

                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                </div>
                            </ng-container>

                            <div class="col-sm-12 d-inline-block care-infotable mt-3 w-96 p-3"
                                *ngIf="auditForm.get('signoffBy').value == currentUserId ">
                                <p class="mr-2"><strong> Do you want to create form for next review date</strong></p>
                                <div class="form-group form-check mb-0 mr-2 d-inline-block">
                                    <input type="radio" name="confirmation" (change)="createForm = true" id="yes4"
                                        [value]="true" class="form-check-input mt-1 ng-untouched ng-pristine ng-valid">
                                    <label for="yes4" class="form-check-label">Yes</label>
                                </div>
                                <div class="form-group form-check mb-0 mr-2 d-inline-block">
                                    <input type="radio" name="confirmation" checked (change)="createForm = false"
                                        id="No14" [value]="false"
                                        class="form-check-input mt-1 ng-untouched ng-pristine ng-valid">
                                    <label for="No14" class="form-check-label">No</label>
                                </div>
                            </div>

                            <div class="col-sm-12 d-inline-block text-center mt-3 w-100">
                                <ng-container
                                    *ngIf="auditForm.get('signoffBy').value == currentUserId && isFilling; else elseTemplate">
                                    <button type="button" [disabled]="!auditForm.valid" (click)="onSubmit()"
                                        class="btn btn-sm btn-success rounded-pill">
                                        Submit & SignOff <i class="mdi mdi-content-save ml-1"></i>
                                    </button>
                                </ng-container>
                                <ng-template #elseTemplate>
                                    <button type="button" (click)="onSubmit()" [disabled]="!auditForm.valid"
                                        class="btn btn-sm btn-success rounded-pill">
                                        Submit <i class="mdi mdi-content-save ml-1"></i>
                                    </button>
                                </ng-template>
                            </div>
                        </div>

                    </form>
                </ng-container>
            </div>
        </div>
    </div>
</div>