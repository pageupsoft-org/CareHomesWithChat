<div class="container-fluid px-0">
    <!-- <div class="row">
        <div class="col-sm-12">
            <div class="heading_page shadow-sm header_usrprofl p-2 pr-3">
                <h1 class="d-inline-block">
                    <span class="usr_headleft"><i class="mdi mdi-account-multiple mx-2"></i> Risk Assessment </span>
                    <span class="usr_headname"></span>
                </h1>
            </div>
        </div>
    </div> -->


    <ng-container *ngIf="showLabel">
        <div class="container">
            <div class="col-sm-12 text-center">
                <label class="alert alert-danger mt-3 w-100"> Please complete registration first</label>
            </div>
        </div>
    </ng-container>
    <ng-container *ngIf="isBusy">
        <div class="loader">
            <mat-spinner diameter="40" strokeWidth="5" style="stroke: #00a1ff;display:inline"></mat-spinner>
        </div>
    </ng-container>
    <ng-container *ngIf="!showLabel && !isBusy ">
        <div class="horizontal-tabs mb-3 bg-white shadow-sm">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12 no-pad scroller">
                        <div class="left-btn-scroller left-scroll ">
                            <i class="mdi mdi-chevron-left"></i>
                        </div>
                        <div class="right-btn-scroller right-scroll ">
                            <i class="mdi mdi-chevron-right"></i>
                        </div>
                        <div class="box_nav_tab riskbox-secction" id="scroll-div">
                            <ul class="nav nav-tabs prof_info_tabs" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="tab" href="#section-1" role="tab" aria-controls="section-1" [ngClass]="{ 'active':active ==1}" (click)="onTabChange(1)">
                                        <span>SECTION 1</span>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="tab" href="#section-2" role="tab" aria-controls="section-2" [ngClass]="{ 'active':active ==2}" (click)="onTabChange(2)">
                                        <span>SECTION 2</span>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="tab" href="#section-3" role="tab" aria-controls="section-3" [ngClass]="{ 'active':active ==3}" (click)="onTabChange(3)">
                                        <span>SECTION 3</span>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="tab" href="#section-4" role="tab" aria-controls="section-4" [ngClass]="{ 'active':active ==4}" (click)="onTabChange(4)">
                                        <span>SECTION 4</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <form #riskAss>
                <div class="tab-content">
                    <div class="tab-pane " [ngClass]="{ 'active':active ==1}" id="section-1" role="tabpanel">
                        <div class="sv-tab-panel info_tab_container">
                            <div class="col-sm-12">
                                <div class="pull-right">
                                    <button class="btn btn-sm btn-dark rounded-pill mr-4 mb-2" (click)="getRiskAssessments()">Go Back</button>
                                </div>
                                <div class="box_patientinfo mx-3 mt-1 mb-3">
                                    <ul class="d-flex mb-0">
                                        <li class="mr-2 ">
                                            <span class="mr-2"><b>Service User name: </b></span>
                                            <span>{{userData.firstName}} {{userData.lastName}}</span>
                                        </li>
                                        <li class="mr-2 ">
                                            <span class="mr-2"><b>Service User no.: </b></span>
                                            <span>{{userData.serviceUserNumber}}</span>
                                        </li>
                                        <li class="mr-2">
                                            <span class="mr-2"><b>DOB: </b></span>
                                            <span>{{userData.dob | date:'dd-MM-yyyy'}}</span>
                                        </li>

                                    </ul>
                                </div>
                            </div>
                            <h4>Other agencies involved (tick as appropriate and detail below)</h4>
                            <div class="care-infotable w-75 mb-3">
                                <table class="table">
                                    <tbody>
                                        <tr>
                                            <td *ngFor="let agencie of OtherAgenciesArray">
                                                <div class="form-group form-check mb-0">
                                                    <input type="checkbox" name="agencie{{agencie.value}}" (change)="changeOtherAgencies(agencie,$event)" [value]="agencie.value" class="form-check-input mt-0" id="agencie_{{agencie.value}}">
                                                    <ng-container *ngIf="agencie.value == otherAgency.HealthService ">
                                                        <label class="form-check-label" for="agencie_{{agencie.value}}">Health
                                                        Services</label>
                                                    </ng-container>
                                                    <ng-container *ngIf="agencie.value == otherAgency.SocialServices ">
                                                        <label class="form-check-label" for="agencie_{{agencie.value}}">Social
                                                            Services</label>
                                                    </ng-container>
                                                    <ng-container *ngIf="agencie.value == otherAgency.VoluntarySector">
                                                        <label class="form-check-label" for="agencie_{{agencie.value}}">Voluntary
                                                            Sector</label>
                                                    </ng-container>
                                                    <ng-container *ngIf="agencie.value == otherAgency.ProbationServices">
                                                        <label class="form-check-label" for="agencie_{{agencie.value}}">Probation
                                                            Services</label>
                                                    </ng-container>
                                                    <ng-container *ngIf="agencie.value == otherAgency.Police">
                                                        <label class="form-check-label" for="agencie_{{agencie.value}}">Police</label>
                                                    </ng-container>
                                                    <ng-container *ngIf="agencie.value == otherAgency.Other ">
                                                        <label class="form-check-label" for="agencie_{{agencie.value}}">Other
                                                            (specify)</label>
                                                    </ng-container>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr *ngIf="isOtherAgencies">
                                            <th class="border-top-0 ">
                                                Other (specify)
                                            </th>
                                            <td colspan="5" class="border-top-0 ">
                                                <div class="form-group">
                                                    <textarea class="form-control" name="otherAgenciesInvolvedSpecification" [(ngModel)]="riskAssessment.otherAgenciesInvolvedSpecification" cols="5" rows="2"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="care-infotable d-inline-block float-left">
                                <h4 class="mb-0 py-3 bg-white">Assessment Details</h4>
                                <table class="table mb-0">
                                    <tbody>
                                        <tr>
                                            <th class="">
                                                Assessment type
                                            </th>
                                            <td>
                                                <span class="d-none"></span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <div class="input-group">
                                                        <input type="text" name="assessmentType" [(ngModel)]="riskAssessment.assessmentType" maxlength="250" class="form-control mb-1">
                                                    </div>
                                                    <span class="d-block">Repeat/Discharge/Follow up</span>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th class="">
                                                CPA status at time of assessment
                                            </th>
                                            <td>
                                                <span class="d-none">N/A</span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <select name="cpaStatus" [(ngModel)]="riskAssessment.cpaStatus" class="form-control" id="cpastatus">
                                                        <option *ngFor="let cpa of cpaStatusArray"
                                                            [ngValue]="cpa.value">
                                                            {{cpa.key}}</option>
                                                    </select>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th class="">
                                                Legal status
                                            </th>
                                            <td>
                                                <span class="d-none">N/A</span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <select class="form-control" name="legalStatus" [(ngModel)]="riskAssessment.legalStatus" id="legalstatus">
                                                        <ng-container *ngFor="let legalStatus of legalStatusArray">
                                                            <option [ngValue]="legalStatus.value">
                                                                {{legalStatus.key}}
                                                            </option>
                                                        </ng-container>
                                                    </select>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th class="">
                                                Was the person assessed in a crisis situation?
                                            </th>
                                            <td>
                                                <span class="d-none">N/A</span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <select class=" form-control" name="isAssessed" [(ngModel)]="riskAssessment.isAssessed" id="crisis-situation">
                                                        <option [ngValue]="true">Yes</option>
                                                        <option [ngValue]="false">No</option>
                                                    </select>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="care-infotable d-inline-block float-left">
                                <h4 class="mb-0 py-3 bg-white">Assessment Summary</h4>
                                <table class="table mb-0">
                                    <tbody>
                                        <tr>
                                            <th class="">
                                                Is there any evidence of a history of significant risk behaviour?
                                            </th>
                                            <td>
                                                <span class="d-none">N/A</span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <select class=" form-control" name="riskBehaviourEvidence" [(ngModel)]="riskAssessment.riskBehaviourEvidence" id="history-significant">
                                                        <option [ngValue]="true">Yes</option>
                                                        <option [ngValue]="false">No</option>
                                                    </select>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>
                                                Involved in serious incident in past 3 months?
                                            </th>
                                            <td>
                                                <span class="d-none">N/A</span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <select name="pastSeriousIncident" [(ngModel)]="riskAssessment.pastSeriousIncident" class=" form-control" id="involvedserious">
                                                        <ng-container
                                                            *ngFor="let seriousIncident of seriousIncidentArray">

                                                            <option [ngValue]="seriousIncident.value">
                                                                {{seriousIncident.key}}</option>
                                                        </ng-container>
                                                    </select>
                                                </div>
                                            </td>
                                        </tr>

                                    </tbody>
                                </table>
                            </div>
                            <div class="w-100 d-inline-block mt-2 mb-3">
                                <div class="care-infotable d-inline-block float-left d-block">
                                    <h4 class="mb-0 py-3 bg-white">Current Risk Status</h4>
                                    <table class="table mb-0">
                                        <tbody>
                                            <tr>
                                                <th>
                                                    Risk of violence to others
                                                </th>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="d-flex">
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="violence1" name="riskOfVioleance" [(ngModel)]="riskAssessment.riskOfVioleance" [value]=0>
                                                            <label class="form-check-label" for="violence1">
                                                                0
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="violence2" name="riskOfVioleance" [(ngModel)]="riskAssessment.riskOfVioleance" [value]=1>
                                                            <label class="form-check-label" for="violence2">
                                                                1
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="violence2" name="riskOfVioleance" [(ngModel)]="riskAssessment.riskOfVioleance" [value]=2>
                                                            <label class="form-check-label" for="violence2">
                                                                2
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="violence3" name="riskOfVioleance" [(ngModel)]="riskAssessment.riskOfVioleance" [value]=3>
                                                            <label class="form-check-label" for="violence3">
                                                                3
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="violence4" name="riskOfVioleance" [(ngModel)]="riskAssessment.riskOfVioleance" [value]=4>
                                                            <label class="form-check-label" for="violence4">
                                                                4
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="violence5" name="riskOfVioleance" [(ngModel)]="riskAssessment.riskOfVioleance" [value]=9>
                                                            <label class="form-check-label" for="violence5">
                                                                9
                                                            </label>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>
                                                    Risk of suicide
                                                </th>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="d-flex">
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="suicide1" name="riskOfSuicide" [(ngModel)]="riskAssessment.riskOfSuicide" [value]=0>
                                                            <label class="form-check-label" for="suicide1">
                                                                0
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="suicide2" name="riskOfSuicide" [(ngModel)]="riskAssessment.riskOfSuicide" [value]=1>
                                                            <label class="form-check-label" for="suicide2">
                                                                1
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="suicide3" name="riskOfSuicide" [(ngModel)]="riskAssessment.riskOfSuicide" [value]=2>
                                                            <label class="form-check-label" for="suicide3">
                                                                2
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="suicide4" name="riskOfSuicide" [(ngModel)]="riskAssessment.riskOfSuicide" [value]=3>
                                                            <label class="form-check-label" for="suicide4">
                                                                3
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="suicide5" name="riskOfSuicide" [(ngModel)]="riskAssessment.riskOfSuicide" [value]=4>
                                                            <label class="form-check-label" for="suicide5">
                                                                4
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="suicide6" name="riskOfSuicide" [(ngModel)]="riskAssessment.riskOfSuicide" [value]=9>
                                                            <label class="form-check-label" for="suicide6">
                                                                9
                                                            </label>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>
                                                    Risk of deliberate self-harm
                                                </th>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="d-flex">
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="deliberate1" name="riskDeliberateSelfHarm" [(ngModel)]="riskAssessment.riskDeliberateSelfHarm" [value]=0>
                                                            <label class="form-check-label" for="deliberate1">
                                                                0
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="deliberate2" name="riskDeliberateSelfHarm" [(ngModel)]="riskAssessment.riskDeliberateSelfHarm" [value]=1>
                                                            <label class="form-check-label" for="deliberate2">
                                                                1
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="deliberate3" name="riskDeliberateSelfHarm" [(ngModel)]="riskAssessment.riskDeliberateSelfHarm" [value]=2>
                                                            <label class="form-check-label" for="deliberate3">
                                                                2
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="deliberate4" name="riskDeliberateSelfHarm" [(ngModel)]="riskAssessment.riskDeliberateSelfHarm" [value]=3>
                                                            <label class="form-check-label" for="deliberate4">
                                                                3
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="deliberate5" name="riskDeliberateSelfHarm" [(ngModel)]="riskAssessment.riskDeliberateSelfHarm" [value]=4>
                                                            <label class="form-check-label" for="deliberate5">
                                                                4
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="deliberate6" name="riskDeliberateSelfHarm" [(ngModel)]="riskAssessment.riskDeliberateSelfHarm" [value]=9>
                                                            <label class="form-check-label" for="deliberate6">
                                                                9
                                                            </label>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>
                                                    Risk of severe self-neglect
                                                </th>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="d-flex">
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="severe1" name="riskSevereSelfNeglect" [(ngModel)]="riskAssessment.riskSevereSelfNeglect" [value]=0>
                                                            <label class="form-check-label" for="severe1">
                                                                0
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="severe2" name="riskSevereSelfNeglect" [(ngModel)]="riskAssessment.riskSevereSelfNeglect" [value]=1>
                                                            <label class="form-check-label" for="severe2">
                                                                1
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="severe3" name="riskSevereSelfNeglect" [(ngModel)]="riskAssessment.riskSevereSelfNeglect" [value]=2>
                                                            <label class="form-check-label" for="severe3">
                                                                2
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="severe4" name="riskSevereSelfNeglect" [(ngModel)]="riskAssessment.riskSevereSelfNeglect" [value]=3>
                                                            <label class="form-check-label" for="severe4">
                                                                3
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="severe5" name="riskSevereSelfNeglect" [(ngModel)]="riskAssessment.riskSevereSelfNeglect" [value]=4>
                                                            <label class="form-check-label" for="severe5">
                                                                4
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="severe6" name="riskSevereSelfNeglect" [(ngModel)]="riskAssessment.riskSevereSelfNeglect" [value]=9>
                                                            <label class="form-check-label" for="severe6">
                                                                9
                                                            </label>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>
                                                    Risk of accidental self-harm
                                                </th>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="d-flex">
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="accidental1" name="accidentalSelfHarm" [(ngModel)]="riskAssessment.accidentalSelfHarm" [value]=0>
                                                            <label class="form-check-label" for="accidental1">
                                                                0
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="accidental2" name="accidentalSelfHarm" [(ngModel)]="riskAssessment.accidentalSelfHarm" [value]=1>
                                                            <label class="form-check-label" for="accidental2">
                                                                1
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="accidental3" name="accidentalSelfHarm" [(ngModel)]="riskAssessment.accidentalSelfHarm" [value]=2>
                                                            <label class="form-check-label" for="accidental3">
                                                                2
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="accidental4" name="accidentalSelfHarm" [(ngModel)]="riskAssessment.accidentalSelfHarm" [value]=3>
                                                            <label class="form-check-label" for="accidental4">
                                                                3
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="accidental5" name="accidentalSelfHarm" [(ngModel)]="riskAssessment.accidentalSelfHarm" [value]=4>
                                                            <label class="form-check-label" for="accidental5">
                                                                4
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="accidental6" name="accidentalSelfHarm" [(ngModel)]="riskAssessment.accidentalSelfHarm" [value]=9>
                                                            <label class="form-check-label" for="accidental6">
                                                                9
                                                            </label>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>
                                                    Risk of abuse/exploitation by others
                                                </th>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="d-flex">
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="exploitation1" name="abuseExploitationByOthers" [(ngModel)]="riskAssessment.abuseExploitationByOthers" [value]=0>
                                                            <label class="form-check-label" for="exploitation1">
                                                                0
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="exploitation2" name="abuseExploitationByOthers" [(ngModel)]="riskAssessment.abuseExploitationByOthers" [value]=1>
                                                            <label class="form-check-label" for="exploitation2">
                                                                1
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="exploitation3" name="abuseExploitationByOthers" [(ngModel)]="riskAssessment.abuseExploitationByOthers" [value]=2>
                                                            <label class="form-check-label" for="exploitation3">
                                                                2
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="exploitation4" name="abuseExploitationByOthers" [(ngModel)]="riskAssessment.abuseExploitationByOthers" [value]=3>
                                                            <label class="form-check-label" for="exploitation4">
                                                                3
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="exploitation5" name="abuseExploitationByOthers" [(ngModel)]="riskAssessment.abuseExploitationByOthers" [value]=4>
                                                            <label class="form-check-label" for="exploitation5">
                                                                4
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="exploitation6" name="abuseExploitationByOthers" [(ngModel)]="riskAssessment.abuseExploitationByOthers" [value]=9>
                                                            <label class="form-check-label" for="exploitation6">
                                                                9
                                                            </label>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>
                                                    Risk related to physical condition
                                                </th>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="d-flex">
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="physical1" name="riskPhysicalCondition" [(ngModel)]="riskAssessment.riskPhysicalCondition" [value]=0>
                                                            <label class="form-check-label" for="physical1">
                                                                0
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="physical2" name="riskPhysicalCondition" [(ngModel)]="riskAssessment.riskPhysicalCondition" [value]=1>
                                                            <label class="form-check-label" for="physical2">
                                                                1
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="physical3" name="riskPhysicalCondition" [(ngModel)]="riskAssessment.riskPhysicalCondition" [value]=2>
                                                            <label class="form-check-label" for="physical3">
                                                                2
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="physical4" name="riskPhysicalCondition" [(ngModel)]="riskAssessment.riskPhysicalCondition" [value]=3>
                                                            <label class="form-check-label" for="physical4">
                                                                3
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="physical5" name="riskPhysicalCondition" [(ngModel)]="riskAssessment.riskPhysicalCondition" [value]=4>
                                                            <label class="form-check-label" for="physical5">
                                                                4
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="physical6" name="riskPhysicalCondition" [(ngModel)]="riskAssessment.riskPhysicalCondition" [value]=9>
                                                            <label class="form-check-label" for="physical6">
                                                                9
                                                            </label>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>
                                                    High risk of relapse?
                                                </th>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="d-flex">
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="yes" name="highRiskOfRelapse" [(ngModel)]="riskAssessment.highRiskOfRelapse" [value]="true">
                                                            <label class="form-check-label" for="yes">
                                                                Yes
                                                            </label>
                                                        </div>
                                                        <div class="form-check mr-2">
                                                            <input class="form-check-input mt-0" type="radio" id="no" name="highRiskOfRelapse" [(ngModel)]="riskAssessment.highRiskOfRelapse" [value]="false">
                                                            <label class="form-check-label" for="no">
                                                                No
                                                            </label>
                                                        </div>

                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="care-infotable d-inline-block float-left d-block mt-5">
                                    <h4 class="mb-0 py-3">Note</h4>
                                    <ul>
                                        <li>
                                            Rate all items using the scale shown (9=not known):
                                        </li>
                                        <li>
                                            0 = No apparent risk. No history/warning signs indicative of risk.
                                        </li>
                                        <li>
                                            1 = Low apparent risk. No current indication of risk, but person’s history and/or warning signs indicate possible risk. Required precautions covered by standard care plan i.e. no special risk prevention measures or plan required.
                                        </li>
                                        <li>
                                            2 = Significant risk. Person’s history and condition indicate the presence of risk and this is considered to be a significant issue at present. Requires a contingency risk management plan.
                                        </li>
                                        <li>
                                            3 = Serious risk. Substantial current risk. Circumstances are such that a risk management plan should be/has been drawn up and implemented.
                                        </li>
                                        <li>
                                            4 = Serious and imminent risk. Person’s history and/or warning signs indicate the presence of risk and this is considered imminent. Highest priority to be given to risk prevention.
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <h4>Persons potentially at risk (tick as appropriate and detail on section 3)</h4>

                            <div class="care-infotable ovrflow-auto w-96 ">
                                <table class="table">
                                    <tbody>
                                        <tr>
                                            <td *ngFor="let person of personsAtRiskArray">
                                                <div class="form-check mr-2">
                                                    <input [(ngModel)]="riskAssessment.potentialRisk" class="form-check-input mt-0" type="radio" name="check-potential" [value]="person.value" id="potentialRisk{{person.value}}">
                                                    <label class="form-check-label" for="potentialRisk{{person.value}}">
                                                        {{person.key}}
                                                    </label>
                                                </div>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="care-infotable ovrflow-auto w-96">
                                <table class="table w-100">
                                    <tbody>
                                        <tr *ngIf="riskAssessment.potentialRisk == personsAtRiskEnum.Child">
                                            <th class="border-top-0 w-50">
                                                Is there a dependent child?
                                            </th>
                                            <td class="border-top-0 w-50">
                                                <div class="form-group mb-0 input-txtbox">
                                                    <select name="isDependentChild" [(ngModel)]="riskAssessment.isDependentChild" class=" form-control" id="involvedserious">
                                                        <option [ngValue]="true">Yes</option>
                                                        <option [ngValue]="false">No</option>
                                                    </select>
                                                </div>

                                            </td>
                                        </tr>
                                        <tr *ngIf="riskAssessment.potentialRisk == personsAtRiskEnum.Other">
                                            <th class="border-top-0 w-25">
                                                Other (specify)
                                            </th>
                                            <td class="border-top-0 w-75">
                                                <div class="form-group">
                                                    <textarea class="form-control" name="potentialRiskSpecification" [(ngModel)]="riskAssessment.potentialRiskSpecification" rows="2" cols="4"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <h4>Further actions recommended/required (tick as appropriate and detail below)</h4>
                            <div class="care-infotable w-96 mb-3">
                                <table class="table">
                                    <tbody>
                                        <tr>
                                            <td *ngFor="let action of furtherActionsArray">
                                                <div class="form-check mr-2">
                                                    <input class="form-check-input mt-0" type="radio" name="futherAction" [(ngModel)]="riskAssessment.futherAction" id="futherAction{{action.value}}" [value]="action.value">
                                                    <ng-container *ngIf="action.value == furtherActionsEnum.None">
                                                        <label class="form-check-label" for="futherAction{{action.value}}">
                                                            None
                                                        </label>
                                                    </ng-container>
                                                    <ng-container *ngIf="action.value == furtherActionsEnum.FurtherRiskAssessment">
                                                        <label class="form-check-label" for="futherAction{{action.value}}">
                                                            Further risk assessment
                                                        </label>
                                                    </ng-container>
                                                    <ng-container *ngIf="action.value == furtherActionsEnum.DiscussionWithConsultantTeamMembers">
                                                        <label class="form-check-label" for="futherAction{{action.value}}">
                                                            Discussion with Consultant/team members
                                                        </label>
                                                    </ng-container>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <h4>Additional notes</h4>
                            <div class="care-infotable w-96 mb-3">
                                <div class="form-group">
                                    <textarea rows="4" name="additionalNote1" maxlength="5000" [(ngModel)]="riskAssessment.additionalNote1" cols="4" class="form-control">

                                   </textarea>
                                </div>
                            </div>

                            <div class="col-sm-12 d-inline-block text-center mt-3 w-100">

                                <button type="button" (click)="validate(2)" class="btn btn-sm btn-info btn-next rounded-pill">
                                    Next <i class="mdi mdi-arrow-right ml-2"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="tab-pane" [ngClass]="{ 'active':active ==2}" id="section-2" role="tabpanel">
                        <div class="sv-tab-panel info_tab_container">
                            <div class="col-sm-12">
                                <div class="pull-right">
                                    <button class="btn btn-sm btn-dark rounded-pill mr-4 mb-2" (click)="getRiskAssessments()">Go Back</button>
                                </div>
                                <div class="box_patientinfo mx-3 mt-1 mb-3">
                                    <ul class="d-flex mb-0">
                                        <li class="mr-2 ">
                                            <span class="mr-2"><b>Service User name: </b></span>
                                            <span>{{userData.firstName}} {{userData.lastName}}</span>
                                        </li>
                                        <li class="mr-2 ">
                                            <span class="mr-2"><b>Service User no.: </b></span>
                                            <span>{{userData.serviceUserNumber}}</span>
                                        </li>
                                        <li class="mr-2">
                                            <span class="mr-2"><b>DOB: </b></span>
                                            <span>{{userData.dob | date:'dd-MM-yyyy'}}</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <h4 class="drop-collapse w-75 mb-0 pr-2 tab-w-100" data-toggle="collapse" href="#collapseone" role="button" aria-expanded="false" aria-controls="collapseExample"><i class="mdi mdi-chevron-down float-right"></i>Clinical symptoms indicative of risk
                            </h4>
                            <div class="care-infotable w-75 float-left collapse show" id="collapseone">
                                <table class="table mb-0">
                                    <thead>
                                        <tr>
                                            <th></th>
                                            <th>History</th>
                                            <th>Current</th>
                                            <th>Notes</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <th class="">
                                                Early warning signs of relapse
                                            </th>
                                            <td>
                                                <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.earlyWarningSign]):"N/A"}}</span>
                                            </td>
                                            <td>
                                                <span class="d-none">N/A</span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <select class=" form-control" name="earlyWarningSign" [(ngModel)]="riskAssessment.earlyWarningSign">
                                                        <ng-container *ngFor="let risk of riskEntryArray">
                                                            <option [ngValue]="risk.value">{{risk.key}}</option>
                                                        </ng-container>
                                                    </select>
                                                </div>
                                            </td>
                                            <td>
                                                <span class="d-none">N/A</span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <div class="input-group">
                                                        <input type="text" name="earlyWarningSignNote" [(ngModel)]="riskAssessment.earlyWarningSignNote" maxlength="250" class="form-control mb-1">
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th class="">
                                                Ideas of harming others
                                            </th>
                                            <td>
                                                <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.ideaHarmingOthers]):"N/A"}}</span>
                                            </td>
                                            <td>
                                                <span class="d-none">N/A</span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <select class=" form-control" name="ideaHarmingOthers" [(ngModel)]="riskAssessment.ideaHarmingOthers">
                                                        <ng-container *ngFor="let risk of riskEntryArray">
                                                            <option [ngValue]="risk.value">{{risk.key}}</option>
                                                        </ng-container>
                                                    </select>
                                                </div>
                                            </td>
                                            <td>
                                                <span class="d-none">N/A</span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <div class="input-group">
                                                        <input type="text" name="ideaHarmingOthersNote" [(ngModel)]="riskAssessment.ideaHarmingOthersNote" maxlength="250" class="form-control mb-1">
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th class="">
                                                Ideas of self-harm/suicidal ideation
                                            </th>
                                            <td>
                                                <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.ideaSelfHarm]):"N/A"}}</span>
                                            </td>
                                            <td>
                                                <span class="d-none">N/A</span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <select class=" form-control" name="ideaSelfHarm" [(ngModel)]="riskAssessment.ideaSelfHarm">
                                                        <ng-container *ngFor="let risk of riskEntryArray">
                                                            <option [ngValue]="risk.value">{{risk.key}}</option>
                                                        </ng-container>
                                                    </select>
                                                </div>
                                            </td>
                                            <td>
                                                <span class="d-none">N/A</span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <div class="input-group">
                                                        <input type="text" name="ideaSelfHarmNote" [(ngModel)]="riskAssessment.ideaSelfHarmNote" maxlength="250" class="form-control mb-1">
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th class="">
                                                Delusions
                                            </th>
                                            <td>
                                                <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.delusions]):"N/A"}}</span>
                                            </td>
                                            <td>
                                                <span class="d-none">N/A</span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <select class=" form-control" name="delusions" [(ngModel)]="riskAssessment.delusions">
                                                        <ng-container *ngFor="let risk of riskEntryArray">
                                                            <option [ngValue]="risk.value">{{risk.key}}</option>
                                                        </ng-container>
                                                    </select>
                                                </div>
                                            </td>
                                            <td>
                                                <span class="d-none">N/A</span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <div class="input-group">
                                                        <input type="text" name="delusionsNote" [(ngModel)]="riskAssessment.delusionsNote" maxlength="250" class="form-control mb-1">
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th class="">
                                                Command hallucinations
                                            </th>
                                            <td>
                                                <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.commandHallucinations]):"N/A"}}</span>
                                            </td>
                                            <td>
                                                <span class="d-none">N/A</span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <select class=" form-control" name="commandHallucinations" [(ngModel)]="riskAssessment.commandHallucinations">
                                                        <ng-container *ngFor="let risk of riskEntryArray">
                                                            <option [ngValue]="risk.value">{{risk.key}}</option>
                                                        </ng-container>
                                                    </select>
                                                </div>
                                            </td>
                                            <td>
                                                <span class="d-none">N/A</span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <div class="input-group">
                                                        <input type="text" name="commandHallucinationsNote" [(ngModel)]="riskAssessment.commandHallucinationsNote" class="form-control mb-1" maxlength="250">
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th class="">
                                                Morbid jealousy
                                            </th>
                                            <td>
                                                <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.morbidJealousy]):"N/A"}}</span>
                                            </td>
                                            <td>
                                                <span class="d-none">N/A</span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <select class=" form-control" name="morbidJealousy" [(ngModel)]="riskAssessment.morbidJealousy">
                                                        <ng-container *ngFor="let risk of riskEntryArray">
                                                            <option [ngValue]="risk.value">{{risk.key}}</option>
                                                        </ng-container>
                                                    </select>
                                                </div>
                                            </td>
                                            <td>
                                                <span class="d-none">N/A</span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <div class="input-group">
                                                        <input type="text" name="morbidJealousyNote" [(ngModel)]="riskAssessment.morbidJealousyNote" class="form-control mb-1" maxlength="250">
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th class="">
                                                Impulsivity / lack of impulse control
                                            </th>
                                            <td>
                                                <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.impulsivity]):"N/A"}}</span>
                                            </td>
                                            <td>
                                                <span class="d-none">N/A</span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <select class=" form-control" name="impulsivity" [(ngModel)]="riskAssessment.impulsivity">
                                                        <ng-container *ngFor="let risk of riskEntryArray">
                                                            <option [ngValue]="risk.value">{{risk.key}}</option>
                                                        </ng-container>
                                                    </select>
                                                </div>
                                            </td>
                                            <td>
                                                <span class="d-none">N/A</span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <div class="input-group">
                                                        <input type="text" name="impulsivityNote" [(ngModel)]="riskAssessment.impulsivityNote" class="form-control mb-1" maxlength="250">
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="w-100 d-inline-block mt-3">
                                <h4 class="drop-collapse w-75 mb-0 pr-2 tab-w-100" data-toggle="collapse" href="#collapsetwo" role="button" aria-expanded="false" aria-controls="collapseExample"><i class="mdi mdi-chevron-down float-right"></i>Behaviour indicative of risk
                                </h4>
                                <div class="care-infotable w-75 float-left collapse " id="collapsetwo">
                                    <table class="table mb-0">
                                        <thead>
                                            <tr>
                                                <th></th>
                                                <th>History</th>
                                                <th>Current</th>
                                                <th>Notes</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <th class="">
                                                    Physical harm to others
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.pysicalHarm]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="pysicalHarm" [(ngModel)]="riskAssessment.pysicalHarm" class=" form-control">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="physicalHarmNote" [(ngModel)]="riskAssessment.physicalHarmNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Threats/intimidation (inc. verbal abuse)
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.intimidation]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="intimidation" [(ngModel)]="riskAssessment.intimidation" class=" form-control">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="intimidationNote" [(ngModel)]="riskAssessment.intimidationNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Preparation to harm others inc. carrying weapons
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.preparationHarmingOthers]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="preparationHarmingOthers" [(ngModel)]="riskAssessment.preparationHarmingOthers" class=" form-control">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="preparationHarmingOthersNote" [(ngModel)]="riskAssessment.preparationHarmingOthersNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Evidence of targeting (children/females/males)
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.evidenceOfTargeting]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="evidenceOfTargeting" [(ngModel)]="riskAssessment.evidenceOfTargeting" class=" form-control">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="evidenceOfTargetingNote" [(ngModel)]="riskAssessment.evidenceOfTargetingNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Child protection issues
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.childProtectionIssue]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="childProtectionIssue" [(ngModel)]="riskAssessment.childProtectionIssue" class=" form-control">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="childProtectionIssueNote" [(ngModel)]="riskAssessment.childProtectionIssueNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Suicide attempts
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.suicideAttempts]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="suicideAttempts" [(ngModel)]="riskAssessment.suicideAttempts" class=" form-control">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="suicideAttemptsNote" [(ngModel)]="riskAssessment.suicideAttemptsNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Plans or preparations to commit suicide
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.plansToCommitSuicide]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="plansToCommitSuicide" [(ngModel)]="riskAssessment.plansToCommitSuicide" class=" form-control">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="plansToCommitSuicideNote" [(ngModel)]="riskAssessment.plansToCommitSuicideNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Deliberate self-harm (w. no evident suicidal intent)
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.deliberateSelfHarm]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="deliberateSelfHarm" [(ngModel)]="riskAssessment.deliberateSelfHarm" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="deliberateSelfHarmNote" [(ngModel)]="riskAssessment.deliberateSelfHarmNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Domestic risk (falling, unsafe use of appliances, fire)
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.domesticRisk]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="domesticRisk" [(ngModel)]="riskAssessment.domesticRisk" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="domesticRiskNote" [(ngModel)]="riskAssessment.domesticRiskNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Drug/alcohol abuse
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.drugAlcoholAbuse]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="drugAlcoholAbuse" [(ngModel)]="riskAssessment.drugAlcoholAbuse" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="drugAlcoholAbuseNote" [(ngModel)]="riskAssessment.drugAlcoholAbuseNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Fire-setting
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.fireSetting]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="fireSetting" [(ngModel)]="riskAssessment.fireSetting" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="fireSettingNote" [(ngModel)]="riskAssessment.fireSettingNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Damage to property
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.damageToProperty]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="damageToProperty" [(ngModel)]="riskAssessment.damageToProperty" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="damageToPropertyNote" [(ngModel)]="riskAssessment.damageToPropertyNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Reckless or unsafe behaviour (e.g. unsafe driving)
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.recklessUnsafeBehaviour]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="recklessUnsafeBehaviour" [(ngModel)]="riskAssessment.recklessUnsafeBehaviour" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="recklessUnsafeBehaviourNote" [(ngModel)]="riskAssessment.recklessUnsafeBehaviourNote" maxlength="250" class="form-control mb-1">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Severe self-neglect
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.severeSelfNeglect]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="severeSelfNeglect" [(ngModel)]="riskAssessment.severeSelfNeglect" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="severeSelfNeglectNote" [(ngModel)]="riskAssessment.severeSelfNeglectNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Absconding
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.absconding]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="absconding" [(ngModel)]="riskAssessment.absconding" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="abscondingNote" [(ngModel)]="riskAssessment.abscondingNote" maxlength="250" class="form-control mb-1">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Wandering
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.wandering]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="wandering" [(ngModel)]="riskAssessment.wandering" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="wanderingNote" [(ngModel)]="riskAssessment.wanderingNote" maxlength="250" class="form-control mb-1">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <div class="w-100 d-inline-block mt-3">
                                <h4 class="drop-collapse w-75 mb-0 pr-2 tab-w-100" data-toggle="collapse" href="#collapsethree" role="button" aria-expanded="false" aria-controls="collapsethree"><i class="mdi mdi-chevron-down float-right"></i>Treatment-related indicators
                                </h4>
                                <div class="care-infotable w-75 float-left collapse" id="collapsethree">
                                    <table class="table mb-0">
                                        <thead>
                                            <tr>
                                                <th></th>
                                                <th>History</th>
                                                <th>Current</th>
                                                <th>Notes</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <th class="">
                                                    Discontinuation of medication/poor compliance
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.discontinuationMedication]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="discontinuationMedication" [(ngModel)]="riskAssessment.discontinuationMedication" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="discontinuationMedicationNote" [(ngModel)]="riskAssessment.discontinuationMedicationNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Failure to attend appointments
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.failureToAttendAppointment]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="failureToAttendAppointment" [(ngModel)]="riskAssessment.failureToAttendAppointment" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="failureToAttendAppointmentNote" [(ngModel)]="riskAssessment.failureToAttendAppointmentNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Unplanned disengagement from services
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.unplannedDisengagmentFromService]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="unplannedDisengagmentFromService" [(ngModel)]="riskAssessment.unplannedDisengagmentFromService" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="unplannedDisengagmentFromServiceNote" [(ngModel)]="riskAssessment.unplannedDisengagmentFromServiceNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Compulsory admission
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.compulsoryAdmission]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="compulsoryAdmission" [(ngModel)]="riskAssessment.compulsoryAdmission" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="compulsoryAdmissionNote" [(ngModel)]="riskAssessment.compulsoryAdmissionNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Admission to intensive care ward
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.intensiveCareWard]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="intensiveCareWard" [(ngModel)]="riskAssessment.intensiveCareWard" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="intensiveCareWardNote" [(ngModel)]="riskAssessment.intensiveCareWardNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>

                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <div class="w-100 d-inline-block mt-3">
                                <h4 class="drop-collapse w-75 mb-0 pr-2 tab-w-100" data-toggle="collapse" href="#collapsefour" role="button" aria-expanded="false" aria-controls="collapsefour"><i class="mdi mdi-chevron-down float-right"></i>Forensic history</h4>
                                <div class="care-infotable w-75 float-left collapse" id="collapsefour">
                                    <table class="table mb-0">
                                        <thead>
                                            <tr>
                                                <th></th>
                                                <th>History</th>
                                                <th>Current</th>
                                                <th>Notes</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <th class="">
                                                    Conviction for violent offences
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.convictionViolentOffences]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="convictionViolentOffences" [(ngModel)]="riskAssessment.convictionViolentOffences" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="convictionViolentOffencesNote" [(ngModel)]="riskAssessment.convictionViolentOffencesNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Conviction for sexual offences
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.convictionSexualOffences]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="convictionSexualOffences" [(ngModel)]="riskAssessment.convictionSexualOffences" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="convictionSexualOffencesNote" [(ngModel)]="riskAssessment.convictionSexualOffencesNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Admission to special hospital
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.admissionToSpecialHospital]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="admissionToSpecialHospital" [(ngModel)]="riskAssessment.admissionToSpecialHospital" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="admissionToSpecialHospitalNote" [(ngModel)]="riskAssessment.admissionToSpecialHospitalNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Admission to secure unit
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.admissionToSecureUnit]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="admissionToSecureUnit" [(ngModel)]="riskAssessment.admissionToSecureUnit" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="admissionToSecureUnitNote" [(ngModel)]="riskAssessment.admissionToSecureUnitNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Restriction order
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.restrictionOrder]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="restrictionOrder" [(ngModel)]="riskAssessment.restrictionOrder" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="restrictionOrderNote" [(ngModel)]="riskAssessment.restrictionOrderNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Supervised Discharge
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.supervisedDischarge]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="supervisedDischarge" [(ngModel)]="riskAssessment.supervisedDischarge" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="supervisedDischargeNote" [(ngModel)]="riskAssessment.supervisedDischargeNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Conditional discharge
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.conditionalDischarge]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="conditionalDischarge" [(ngModel)]="riskAssessment.conditionalDischarge" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="conditionalDischargeNote" [(ngModel)]="riskAssessment.conditionalDischargeNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Other involvement suggesting risk (e.g. injunctions)
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.otherInvolvementRisk]):"N/A"}}</span>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="otherInvolvementRisk" [(ngModel)]="riskAssessment.otherInvolvementRisk" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="otherInvolvementRiskNote" [(ngModel)]="riskAssessment.otherInvolvementRiskNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <div class="w-100 d-inline-block mt-3 mb-3">
                                <h4 class="drop-collapse w-75 mb-0 pr-2 tab-w-100" data-toggle="collapse" href="#collapsefive" role="button" aria-expanded="false" aria-controls="collapsefive"><i class="mdi mdi-chevron-down float-right"></i>Personal circumstances indicative of risk</h4>
                                <div class="care-infotable w-75 float-left collapse" id="collapsefive">
                                    <table class="table mb-0">
                                        <thead>
                                            <tr>
                                                <th></th>
                                                <th>History</th>
                                                <th>Current</th>
                                                <th>Notes</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <th class="">
                                                    Family history of suicide
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.familyHistoryOfSuicide]):"N/A"}}</span>

                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="familyHistoryOfSuicide" [(ngModel)]="riskAssessment.familyHistoryOfSuicide" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="familyHistoryOfSuicideNote" [(ngModel)]="riskAssessment.familyHistoryOfSuicideNote" maxlength="250" class="form-control mb-1">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Physical problems/frailty (e.g. risk of falling, illness)
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.physicalProblems]):"N/A"}}</span>

                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="physicalProblems" [(ngModel)]="riskAssessment.physicalProblems" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="physicalProblemsNote" [(ngModel)]="riskAssessment.physicalProblemsNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Recent severe stress/life event
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.recentSevereStress]):"N/A"}}</span>

                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="recentSevereStress" [(ngModel)]="riskAssessment.recentSevereStress" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="recentSevereStressNote" [(ngModel)]="riskAssessment.recentSevereStressNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Lack of meaningful employment/occupation
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.lackOfEmployment]):"N/A"}}</span>

                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="lackOfEmployment" [(ngModel)]="riskAssessment.lackOfEmployment" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="lackOfEmploymentNote" [(ngModel)]="riskAssessment.lackOfEmploymentNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Financial difficulties
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.financialDifficulties]):"N/A"}}</span>

                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="financialDifficulties" [(ngModel)]="riskAssessment.financialDifficulties" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="financialDifficultiesNote" [(ngModel)]="riskAssessment.financialDifficultiesNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Concern expressed by others (relatives, carers)
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.concernExpressedByOthers]):"N/A"}}</span>

                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="concernExpressedByOthers" [(ngModel)]="riskAssessment.concernExpressedByOthers" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="concernExpressedByOthersNote" [(ngModel)]="riskAssessment.concernExpressedByOthersNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Recurrence of circumstances associated with risk
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.recurrenceOfCircumstances]):"N/A"}}</span>

                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="recurrenceOfCircumstances" [(ngModel)]="riskAssessment.recurrenceOfCircumstances" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="recurrenceOfCircumstancesNote" [(ngModel)]="riskAssessment.recurrenceOfCircumstancesNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Abuse/victimisation by others
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.abuseByOthers]):"N/A"}}</span>

                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="abuseByOthers" [(ngModel)]="riskAssessment.abuseByOthers" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="abuseByOthersNote" [(ngModel)]="riskAssessment.abuseByOthersNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Social isolation
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.socialIsolation]):"N/A"}}</span>

                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="socialIsolation" [(ngModel)]="riskAssessment.socialIsolation" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="socialIsolationNote" [(ngModel)]="riskAssessment.socialIsolationNote" class="form-control mb-1" maxlength="250">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Homelessness/rootlessness
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.homelessness]):"N/A"}}</span>

                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="homelessness" [(ngModel)]="riskAssessment.homelessness" class=" form-control" id="staff">
                                                            <ng-container *ngFor="let risk of riskEntryArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="homelessnessNote" [(ngModel)]="riskAssessment.homelessnessNote" maxlength="250" class="form-control mb-1">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="">
                                                    Other risk factor(s) (specify):
                                                </th>
                                                <td>
                                                    <span>{{(lastRiskAsssessment)?(riskEntryEnum[lastRiskAsssessment.otherRiskFactors]):"N/A"}}</span>

                                                </td>
                                                <td colspan="2">
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="otherRiskFactors" [(ngModel)]="riskAssessment.otherRiskFactors" maxlength="250" class="form-control mb-1">
                                                        </div>
                                                    </div>
                                                </td>

                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <h4>Additional notes</h4>
                            <div class="care-infotable w-75 mb-3">
                                <div class="form-group">
                                    <textarea rows="4" cols="4" name="additionalNote2" [(ngModel)]="riskAssessment.additionalNote2" class="form-control" maxlength="5000"></textarea>
                                </div>
                            </div>

                            <div class="col-sm-12 d-inline-block text-center mt-3 w-100">
                                <button type="button" (click)="onTabChange(1)" class="btn btn-sm btn-secondary rounded-pill">
                                    <i class="mdi mdi-arrow-left mr-2"></i>
                                    Back
                                </button>
                                <button type="button" (click)="validate(3)" class="btn btn-sm btn-info btn-next rounded-pill">
                                    Next <i class="mdi mdi-arrow-right ml-2"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="tab-pane" [ngClass]="{ 'active':active ==3}" id="section-3" role="tabpanel">
                        <div class="sv-tab-panel info_tab_container">
                            <div class="col-sm-12">
                                <div class="pull-right">
                                    <button class="btn btn-sm btn-dark rounded-pill mr-4 mb-2" (click)="getRiskAssessments()">Go Back</button>
                                </div>
                                <div class="box_patientinfo mx-3 mt-1 mb-3">
                                    <ul class="d-flex mb-0">
                                        <li class="mr-2 ">
                                            <span class="mr-2"><b>Service User name: </b></span>
                                            <span>{{userData.firstName}} {{userData.lastName}}</span>
                                        </li>
                                        <li class="mr-2 ">
                                            <span class="mr-2"><b>Service User no.: </b></span>
                                            <span>{{userData.serviceUserNumber}}</span>
                                        </li>
                                        <li class="mr-2">
                                            <span class="mr-2"><b>DOB: </b></span>
                                            <span>{{userData.dob | date:'dd-MM-yyyy'}}</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="w-100 d-inline-block mt-3">
                                <h4 data-toggle="collapse" href="#collapsethree1" role="button" aria-expanded="true" aria-controls="collapseExample" class="drop-collapse w-75 mb-0 pr-2 tab-w-100"><i class="mdi mdi-chevron-down float-right"></i> Descriptive Summary of Main Risks Identified
                                </h4>
                                <div id="collapsethree1" class="care-infotable w-75 float-left collapse">
                                    <div class="ml-3 w-96 d-inline-block float-left mb-3">
                                        <div class="form-group mb-0">
                                            <textarea rows="4" maxlength="5000" name="summaryOfMainRisks" [(ngModel)]="riskAssessment.summaryOfMainRisks" cols="4" class="form-control mt-2"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="w-100 d-inline-block mt-3">
                                <h4 data-toggle="collapse" href="#collapsethree2" role="button" aria-expanded="true" aria-controls="collapseExample" class="drop-collapse w-75 mb-0 pr-2 tab-w-100"><i class="mdi mdi-chevron-down float-right"></i> Have actions been taken in the past to reduce risk?</h4>
                                <div id="collapsethree2" class="care-infotable w-75 float-left collapse">
                                    <table class="table mb-0">
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox d-inline-block">
                                                        <select name="actionToReduceRisk" [(ngModel)]="riskAssessment.actionToReduceRisk" class=" form-control" id="reducerisk">
                                                            <ng-container *ngFor="let risk of riskActionArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="border-top-0">
                                                    <div class="form-group p-3">
                                                        <textarea rows="4" cols="4" maxlength="5000" name="actionToReduceRiskDesc" [(ngModel)]="riskAssessment.actionToReduceRiskDesc" class="form-control"></textarea>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <div class="w-100 d-inline-block mt-3">
                                <h4 data-toggle="collapse" href="#collapsethree3" role="button" aria-expanded="true" aria-controls="collapseExample" class="drop-collapse w-75 mb-0 pr-2 tab-w-100"><i class="mdi mdi-chevron-down float-right"></i> Service user’s view of risk </h4>
                                <div id="collapsethree3" class="care-infotable w-75 float-left collapse">
                                    <table class="table mb-0">
                                        <tbody>
                                            <tr>
                                                <th>
                                                    Is service user aware of possible risks?
                                                </th>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select class=" form-control" name="isUserAwareOfRisks" [(ngModel)]="riskAssessment.isUserAwareOfRisks" id="possible-risks">
                                                            <ng-container *ngFor="let risk of riskActionArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>

                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" class="border-top-0">
                                                    <div class="form-group p-3">
                                                        <textarea maxlength="5000" rows="4" cols="4" name="userAwareOfRisksDesc" [(ngModel)]="riskAssessment.userAwareOfRisksDesc" class="form-control"></textarea>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <div class="w-100 d-inline-block mt-3">
                                <h4 data-toggle="collapse" href="#collapsethree4" role="button" aria-expanded="true" aria-controls="collapseExample" class="drop-collapse w-75 mb-0 pr-2 tab-w-100"><i class="mdi mdi-chevron-down float-right"></i> Carer’s view of risk </h4>
                                <div id="collapsethree4" class="care-infotable w-75 float-left collapse">
                                    <table class="table mb-0">
                                        <tbody>
                                            <tr>
                                                <th>
                                                    Are the person’s carer(s)/family aware of possible risks?
                                                </th>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <select name="isFamilyAwareOfRisks" [(ngModel)]="riskAssessment.isFamilyAwareOfRisks" class=" form-control" id="relaps">
                                                            <ng-container *ngFor="let risk of riskActionArray">
                                                                <option [ngValue]="risk.value">{{risk.key}}
                                                                </option>

                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" class="border-top-0">
                                                    <div class="form-group p-3">
                                                        <textarea rows="4" cols="4" maxlength="5000"  name="isFamilyAwareOfRisksDesc" [(ngModel)]="riskAssessment.isFamilyAwareOfRisksDesc" class="form-control"></textarea>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <div class="w-100 d-inline-block mt-3">
                                <h4 data-toggle="collapse" href="#collapsethree5" role="button" aria-expanded="true" aria-controls="collapseExample" class="drop-collapse w-75 mb-0 pr-2 tab-w-100"><i class="mdi mdi-chevron-down float-right"></i> Protective factors (e.g. self-monitoring, social support)</h4>
                                <div id="collapsethree5" class="care-infotable w-75 float-left collapse">
                                    <div class="w-96 mb-3 ml-3">
                                        <div class="form-group mt-2">
                                            <textarea rows="4" cols="4" name="protectiveFactor" maxlength="5000" [(ngModel)]="riskAssessment.protectiveFactor" class="form-control"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-12 d-inline-block text-center mt-3 w-100">
                                <button type="button" (click)="onTabChange(2)" class="btn btn-sm btn-secondary rounded-pill">
                                    <i class="mdi mdi-arrow-left mr-2"></i>
                                    Back
                                </button>
                                <button type="button" (click)="validate(4)" class="btn btn-sm btn-info btn-next rounded-pill">
                                    Next <i class="mdi mdi-arrow-right ml-2"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="tab-pane" [ngClass]="{ 'active':active ==4}" id="section-4" role="tabpanel">
                        <div class="sv-tab-panel info_tab_container">
                            <div class="col-sm-12">
                                <div class="pull-right">
                                    <button class="btn btn-sm btn-dark rounded-pill mr-4 mb-2" (click)="getRiskAssessments()">Go Back</button>
                                </div>
                                <div class="box_patientinfo mx-3 mt-1 mb-3">
                                    <ul class="d-flex mb-0">
                                        <li class="mr-2 ">
                                            <span class="mr-2"><b>Service User name: </b></span>
                                            <span>{{userData.firstName}} {{userData.lastName}}</span>
                                        </li>
                                        <li class="mr-2 ">
                                            <span class="mr-2"><b>Service User no.: </b></span>
                                            <span>{{userData.serviceUserNumber}}</span>
                                        </li>
                                        <li class="mr-2">
                                            <span class="mr-2"><b>DOB: </b></span>
                                            <span>{{userData.dob | date:'dd-MM-yyyy'}}</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <div class="w-100 d-inline-block mt-3">
                                <div class="care-infotable w-75 d-inline-block float-left mb-0">
                                    <h4 data-toggle="collapse" href="#collapsefour1" role="button" aria-expanded="true" aria-controls="collapseExample" class="drop-collapse mb-0 pr-2 ml-0"><i class="mdi mdi-chevron-down float-right"></i> Areas of concern to be addressed by plan</h4>
                                    <div id="collapsefour1" class="ml-3 w-96 float-left collapse mb-3">
                                        <div class="form-group mb-0 mt-2">
                                            <textarea Areas of concern to be addressed by plan  rows="4" cols="4" name="areasOfConcern" [(ngModel)]="riskAssessment.areasOfConcern" class="form-control" maxlength="5000"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="w-100 d-inline-block mt-3 mb-3">
                                <h4 data-toggle="collapse" href="#collapsefour2" role="button" aria-expanded="true" aria-controls="collapseExample" class="drop-collapse w-75 mb-0 pr-2 tab-w-100"><i class="mdi mdi-chevron-down float-right"></i> Actions to be taken</h4>
                                <div id="collapsefour2" class="care-infotable w-75 float-left collapse">
                                    <table class="table mb-0">
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <span class="d-none">N/A</span>
                                                    <div class="form-group mb-0 input-txtbox d-inline-block">
                                                        <select name="actionsToBeTaken" [(ngModel)]="riskAssessment.actionsToBeTaken" class=" form-control" id="action-taken">
                                                            <option [ngValue]="0">None</option>
                                                            <option [ngValue]="1">Send further appointment
                                                            </option>
                                                            <option [ngValue]="2">Contact care co-ordinator
                                                            </option>
                                                            <option [ngValue]="3">Telephone</option>
                                                            <option [ngValue]="4">Discuss with Consultant
                                                            </option>
                                                            <option [ngValue]="5">Contact care manager</option>
                                                            <option [ngValue]="6">Visit home</option>
                                                            <option [ngValue]="7">Contact GP</option>
                                                            <option [ngValue]="8">Contact nominated carer
                                                            </option>
                                                            <option [ngValue]="9">Other (specify).</option>
                                                        </select>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="border-top-0">
                                                    <div class="form-group py-2 px-2">
                                                        <textarea rows="4" cols="4" name="actionToBeTakenSpecification" maxlength="5000" [(ngModel)]="riskAssessment.actionToBeTakenSpecification" class="form-control"></textarea>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <h4>Information sources available / accessed in completing risk profile (Tick all sources used)
                            </h4>
                            <div class="care-infotable w-75 mb-3">
                                <table class="table">
                                    <tbody>
                                        <tr>
                                            <td *ngFor="let informationSource of  informationSourceArray">
                                                <div class="form-group form-check mb-0">
                                                    <input type="checkbox" class="form-check-input mt-0" (change)="changeInformationSource(informationSource,$event)" name="inform{{informationSource.value}}" id="{{informationSource.value}}">
                                                    <ng-container *ngIf="informationSource.value == informationSourceEnum.PersonAssesed">
                                                        <label class="form-check-label" for="{{informationSource.value}}">Person Assessed
                                                        </label>
                                                    </ng-container>
                                                    <ng-container *ngIf="informationSource.value == informationSourceEnum.CaseNotes">
                                                        <label class="form-check-label" for="{{informationSource.value}}">Case Notes
                                                        </label>
                                                    </ng-container>
                                                    <ng-container *ngIf="informationSource.value == informationSourceEnum.CarerOrRelative">
                                                        <label class="form-check-label" for="{{informationSource.value}}">Carer/relative</label>
                                                    </ng-container>
                                                    <ng-container *ngIf="informationSource.value == informationSourceEnum.Other">
                                                        <label class="form-check-label" for="{{informationSource.value}}">Other
                                                            (specify)</label>
                                                    </ng-container>
                                                </div>
                                            </td>
                                        </tr>
                                        <!-- <tr *ngIf="isInformationOtherSource">
                                                <th class="border-top-0 ">
                                                    Other (specify)
                                                </th>
                                                <td class="border-top-0 ">
                                                    <div class="form-group">
                                                        <textarea class="form-control"
                                                            name="informationSourceSpecification" [(ngModel)]="riskAssessment.informationSourceSpecification"
                                                            cols="5" rows="2"></textarea>
                                                    </div>
                                                </td>
                                            </tr> -->
                                    </tbody>
                                </table>
                                <table class="table">
                                    <tbody>
                                        <tr *ngIf="isInformationOtherSource">
                                            <th class="border-top-0 ">
                                                Other (specify)
                                            </th>
                                            <td class="border-top-0 ">
                                                <div class="form-group">
                                                    <textarea class="form-control" maxlength="5000" name="informationSourceSpecification" [(ngModel)]="riskAssessment.informationSourceSpecification" cols="5" rows="2"></textarea>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>


                            <div class="care-infotable d-inline-block float-left">
                                <h4 class="mb-0 py-3 bg-white">Assessment Details</h4>
                                <table class="table mb-0">
                                    <tbody>
                                        <!-- <tr>
                                            <th>
                                                Completed by
                                            </th>
                                            <td>
                                                <span class="d-none"></span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <div class="input-group">
                                                        <select class="form-control" id="cpa_select" name="completedBy" [(ngModel)]="riskAssessment.completedBy">
                                                            <ng-container *ngFor="let user of usersList">
                                                                <option [ngValue]="user.id">
                                                                    {{ (user.firstName ==null || user.lastName
                                                                    == null)? user.email: user.firstName+"
                                                                    "+user.lastName}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr> -->
                                        <!-- <tr>
                                                <th>
                                                    Position
                                                </th>
                                                <td>
                                                    <span class="d-none"></span>
                                                    <div class="form-group mb-0 input-txtbox">
                                                        <div class="input-group">
                                                            <input type="text" name="position" [(ngModel)]="riskAssessment.position" class="form-control">
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr> -->
                                        <tr>
                                            <th>
                                                Date completed
                                            </th>
                                            <td>
                                                <span class="d-none"></span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <div class="input-group">
                                                        <input type="date" name="completedDate" (change)="checkNextReviewDate()"  [min]="currentDate | date:'yyyy-MM-dd'" [ngModel]="riskAssessment.completedDate | date:'yyyy-MM-dd'" (ngModelChange)="riskAssessment.completedDate = $event" class="form-control">
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>
                                                Date of next review
                                            </th>
                                            <td>
                                                <span class="d-none"></span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <div class="input-group">
                                                        <input type="date" name="nextReviewDate"  [(ngModel)]="riskAssessment.nextReviewDate" [min]="riskAssessment.completedDate | date:'yyyy-MM-dd'" class="form-control">
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>
                                                Location
                                            </th>
                                            <td>
                                                <span class="">{{locationName}}</span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>
                                                Circulated to
                                            </th>
                                            <td>
                                                <span class="d-none">N/A</span>
                                                <ng-container *ngFor="let circulated of circulatedToArray">
                                                    <div class="form-group form-check mb-0">
                                                        <input type="checkbox" [(ngModel)]="circulated.checked" class="form-check-input mt-0" name="circulated{{circulated.value}}" (change)="changeCirculated(circulated,$event)" id="circulated{{circulated.value}}">
                                                        <ng-container *ngIf="circulated.value == circulatedToEnum.Psychiatrist">
                                                            <label class="form-check-label" for="circulated{{circulated.value}}">Psychiatrist</label>
                                                        </ng-container>
                                                        <ng-container *ngIf="circulated.value == circulatedToEnum.CareCoordinator">
                                                            <label class="form-check-label" for="circulated{{circulated.value}}">Care
                                                                coordinator</label>
                                                        </ng-container>
                                                        <ng-container *ngIf="circulated.value == circulatedToEnum.Patient">
                                                            <label class="form-check-label" for="circulated{{circulated.value}}">Patient</label>
                                                        </ng-container>
                                                        <ng-container *ngIf="circulated.value == circulatedToEnum.Family">
                                                            <label class="form-check-label" for="circulated{{circulated.value}}">Family</label>
                                                        </ng-container>
                                                        <ng-container *ngIf="circulated.value == circulatedToEnum.Other">
                                                            <label class="form-check-label" for="circulated{{circulated.value}}">Other:
                                                                please state</label>
                                                        </ng-container>

                                                    </div>
                                                </ng-container>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>
                                                Sign-off by
                                            </th>
                                            <td>
                                                <span class="d-none"></span>
                                                <div class="form-group mb-0 input-txtbox">
                                                    <div class="input-group">
                                                        <select class="form-control" [disabled]="currentUserRole == userType.SuperUser || currentUserRole == userType.Admin" id="Sign-off" name="sign-off" [(ngModel)]="riskAssessment.signOffBy">
                                                            <ng-container *ngFor="let user of usersList">
                                                                <option
                                                                    *ngIf="user.userType == userTypeEnum.SuperUser || user.userType == userTypeEnum.Admin"
                                                                    [ngValue]="user.id">
                                                                    {{ (user.firstName ==null || user.lastName
                                                                    == null)? user.email: user.firstName+"
                                                                    "+user.lastName}}
                                                                </option>
                                                            </ng-container>
                                                        </select>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="col-sm-12 d-inline-block text-center mt-3 w-100">
                                <button type="button" (click)="onTabChange(3)" class="btn btn-sm btn-secondary rounded-pill">
                                    <i class="mdi mdi-arrow-left mr-2"></i>
                                    Back
                                </button>
                                <button type="button" (click)="validate(5,riskAss)" class="btn btn-sm btn-info btn-next rounded-pill">
                                    Submit <i class="mdi mdi-arrow-right ml-2"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </ng-container>

</div>